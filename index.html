<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Introduction | Semaphore Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://akinovak.github.io/semaphore-spec/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Introduction | Semaphore Documentation"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><link data-react-helmet="true" rel="shortcut icon" href="/semaphore-spec/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://akinovak.github.io/semaphore-spec/"><link data-react-helmet="true" rel="alternate" href="https://akinovak.github.io/semaphore-spec/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://akinovak.github.io/semaphore-spec/" hreflang="x-default"><script data-react-helmet="true">function maybeInsertBanner(){window.__DOCUSAURUS_INSERT_BASEURL_BANNER&&insertBanner()}function insertBanner(){var n=document.getElementById("docusaurus-base-url-issue-banner-container");if(n){n.innerHTML='\n<div id="docusaurus-base-url-issue-banner" style="border: thick solid red; background-color: rgb(255, 230, 179); margin: 20px; padding: 20px; font-size: 20px;">\n   <p style="font-weight: bold; font-size: 30px;">Your Docusaurus site did not load properly.</p>\n   <p>A very common reason is a wrong site <a href="https://docusaurus.io/docs/docusaurus.config.js/#baseurl" style="font-weight: bold;">baseUrl configuration</a>.</p>\n   <p>Current configured baseUrl = <span style="font-weight: bold; color: red;">/semaphore-spec/</span> </p>\n   <p>We suggest trying baseUrl = <span id="docusaurus-base-url-issue-banner-suggestion-container" style="font-weight: bold; color: green;"></span></p>\n</div>\n';var e=document.getElementById("docusaurus-base-url-issue-banner-suggestion-container"),s=window.location.pathname,r="/"===s.substr(-1)?s:s+"/";e.innerHTML=r}}window.__DOCUSAURUS_INSERT_BASEURL_BANNER=!0,document.addEventListener("DOMContentLoaded",maybeInsertBanner)</script><link rel="stylesheet" href="/semaphore-spec/assets/css/styles.796fd605.css">
<link rel="preload" href="/semaphore-spec/assets/js/runtime~main.87f30fe4.js" as="script">
<link rel="preload" href="/semaphore-spec/assets/js/main.4ce3ad23.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div id="docusaurus-base-url-issue-banner-container"></div><div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/semaphore-spec/"><b class="navbar__title">Semaphore</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/appliedzkp/semaphore" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/semaphore-spec/">Introduction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/howitworks">How it works</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/quickstart">Quick start</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/usage">Usage</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/contract-api">Contract API</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/libsemaphore">libsemaphore</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/trustedsetup">Multi-party trusted setup</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/audit">Security audit</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/creditsandresources">Credits</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/code-of-conduct">Code of conduct</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/semaphore-spec/references">References</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p><a href="https://github.com/appliedzkp/semaphore" target="_blank" rel="noopener noreferrer">Semaphore</a> is a zero-knowledge gadget
which allows Ethereum users to prove their membership of a set which they had
previously joined without revealing their original identity. At the same time,
it allows users to signal their endorsement of an arbitrary string. It is
designed to be a simple and generic privacy layer for Ethereum dApps. Use cases
include private voting, whistleblowing, mixers, and anonymous authentication.
Finally, it provides a simple built-in mechanism to prevent double-signalling
or double-spending.</p><p>This gadget comprises of smart contracts and
<a href="https://z.cash/technology/zksnarks/" target="_blank" rel="noopener noreferrer">zero-knowledge</a> components which work in
tandem. The Semaphore smart contract handles state, permissions, and proof
verification on-chain. The zero-knowledge components work off-chain to allow
the user to generate proofs, which allow the smart contract to update its state
if these proofs are valid.</p><p>For a formal description of Semaphore and its underlying cryptographic
mechanisms, also see this document
<a href="https://github.com/appliedzkp/semaphore/tree/master/spec" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Semaphore is designed for smart contract and dApp developers, not end users.
Developers should abstract its features away in order to provide user-friendly
privacy.</p><p>Try a simple demo <a href="https://weijiekoh.github.io/semaphore-ui/" target="_blank" rel="noopener noreferrer">here</a> or read a
high-level description of Semaphore
<a href="https://medium.com/coinmonks/to-mixers-and-beyond-presenting-semaphore-a-privacy-gadget-built-on-ethereum-4c8b00857c9b" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="basic-features"></a>Basic features<a class="hash-link" href="#basic-features" title="Direct link to heading">#</a></h2><p>In sum, Semaphore provides the ability to:</p><ol><li><p>Register an identity in a smart contract, and then:</p></li><li><p>Broadcast a signal:</p><ul><li><p>Anonymously prove that their identity is in the set of registered
identities, and at the same time:</p></li><li><p>Publicly store an arbitrary string in the contract, if and only if that
string is unique to the user and the contractâ€™s current external
nullifier, which is a unique value akin to a topic. This means that
double-signalling the same message under the same external nullifier is
not possible.</p></li></ul></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="external-nullifiers"></a>External nullifiers<a class="hash-link" href="#external-nullifiers" title="Direct link to heading">#</a></h3><p>Think of an external nullifier as a voting booth where each user may only cast
one vote. If they try to cast a second vote a the same booth, that vote is
invalid.</p><p>An external nullifier is any 29-byte value. Semaphore always starts with one
external nullifier, which is set upon contract deployment. The owner of the
Semaphore contract may add more external nullifiers, deactivate, or reactivate
existing ones.</p><p>The first time a particular user broadcasts a signal to an active external
nullifier <code>n</code>, and if the user&#x27;s proof of membership of the set of registered
users is valid, the transaction will succeed. The second time she does so to
the same <code>n</code>, however, her transaction will fail.</p><p>Additionally, all signals broadcast transactions to a deactivated external
nullifier will fail.</p><p>Each client application must use the above features of Semaphore in a unique
way to achieve its privacy goals. A mixer, for instance, would use one external
nullifier as such:</p><table><thead><tr><th>Signal</th><th>External nullifier</th></tr></thead><tbody><tr><td>The hash of the recipient&#x27;s address, relayer&#x27;s address, and the relayer&#x27;s fee</td><td>The mixer contract&#x27;s address</td></tr></tbody></table><p>This allows anonymous withdrawals of funds (via a transaction relayer, who is
rewarded with a fee), and prevents double-spending as there is only one
external nullifier.</p><p>An anonymous voting app would be configured differently:</p><table><thead><tr><th>Signal</th><th>External nullifier</th></tr></thead><tbody><tr><td>The hash of the respondent&#x27;s answer</td><td>The hash of the question</td></tr></tbody></table><p>This allows any user to vote with an arbitary response (e.g. yes, no, or maybe)
to any question. The user, however, can only vote once per question.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="about-the-code"></a>About the code<a class="hash-link" href="#about-the-code" title="Direct link to heading">#</a></h2><p>This repository contains the code for Semaphore&#x27;s contracts written in
Soliidty, and zk-SNARK circuits written in
<a href="https://github.com/iden3/circom" target="_blank" rel="noopener noreferrer">circom</a>. It also contains Typescript code to
execute tests.</p><p>The code has been audited by ABDK Consulting. Their suggested security and
efficiency fixes have been applied.</p><p>A multi-party computation to produce the zk-SNARK proving and verification keys
for Semaphore will begin in the near future.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/akinovak/semaphore-spec/edit/main/docs/introduction.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/semaphore-spec/howitworks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How it works Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#basic-features" class="table-of-contents__link">Basic features</a><ul><li><a href="#external-nullifiers" class="table-of-contents__link">External nullifiers</a></li></ul></li><li><a href="#about-the-code" class="table-of-contents__link">About the code</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/semaphore-spec/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/semaphore-spec/references">References</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://medium.com/privacy-scaling-explorations" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/PrivacyScaling" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/appliedzkp/semaphore" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Contracts<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/appliedzkp/libsemaphore" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>JS Library<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Semaphore</div></div></div></footer></div>
<script src="/semaphore-spec/assets/js/runtime~main.87f30fe4.js"></script>
<script src="/semaphore-spec/assets/js/main.4ce3ad23.js"></script>
</body>
</html>